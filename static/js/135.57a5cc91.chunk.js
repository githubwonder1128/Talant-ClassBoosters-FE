"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[135],{97135:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var i=n(93433),l=n(29439),a=n(47313),s=n(85554),r=n(36059),c=n(79966),d=n(203),o=n(80654),u=n(39874),x=n(44874),h=n(90495),f=n(59629),Z=n(37982),m=n(53805),j=n(16157),g=n(73477),p=n(20770),v=n(13280),y=n(29024),C=n(82937),b=n(22449),w=n(46417);var P=function(e){var t=e.handleAdd,n=e.searchText,i=e.setSearchText;return(0,w.jsx)("div",{className:"container flex w-full",children:(0,w.jsxs)(C.ZP,{container:!0,spacing:2,mt:5,mb:1,px:2,children:[(0,w.jsx)(C.ZP,{item:!0,xs:6,children:(0,w.jsx)(o.Z,{className:"flex items-center w-full h-40 p-4 px-16 py-4 rounded-full shadow-none border-1",children:(0,w.jsx)(b.Z,{placeholder:"Search University",className:"flex flex-1 px-8",disableUnderline:!0,fullWidth:!0,value:n,inputProps:{"aria-label":"Search"},onChange:function(e){i(e.target.value)}})})}),(0,w.jsx)(C.ZP,{item:!0,xs:6,sx:{textAlign:"right"},children:(0,w.jsx)(g.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return t()},children:"Add New"})})]})})},S=n(55383),k=n(68634),N=n(42669),A=n(36368),I=n(40686),_=n(29266),E=n(99234),O=n(81962),U={position:"absolute",top:"80px",left:"25%",width:"50%",maxHeight:"90%",overflowY:"auto",bgcolor:"background.paper",border:"1px solid #d8dbe0",boxShadow:24,borderRadius:"10px"};function T(e){var t=e.isModal,n=e.setIsModal,i=e.id,o=(0,s.I0)(),u=(0,s.v9)((function(e){return e.universitys})),x=u.universitys,h=function(){return n(!1)},f=(0,a.useState)(c.Z.getAllCountries()),Z=(0,l.Z)(f,2),m=Z[0],p=(Z[1],(0,a.useState)([])),v=(0,l.Z)(p,2),b=v[0],P=v[1],T=(0,a.useState)([]),W=(0,l.Z)(T,2),B=W[0],M=W[1],D=(0,a.useState)(""),H=(0,l.Z)(D,2),R=H[0],Y=H[1],F=(0,a.useState)("US"),L=(0,l.Z)(F,2),q=L[0],z=L[1],G=(0,a.useState)(""),J=(0,l.Z)(G,2),K=J[0],Q=J[1],V=(0,a.useState)(""),X=(0,l.Z)(V,2),$=X[0],ee=X[1];return(0,a.useEffect)((function(){var e=d.ZP.getStatesOfCountry(q),t=S.Z.getCitiesOfCountry(q);P(e),M(t)}),[q]),(0,a.useEffect)((function(){var e=S.Z.getCitiesOfState(q,K);M(e)}),[K,q]),(0,a.useEffect)((function(){if(i){var e=x.filter((function(e){return e._id===i}))[0];Y(e.name),z(e.country),Q(e.state),ee(e.city)}}),[i,x]),(0,w.jsx)("div",{children:(0,w.jsx)(k.Z,{open:t,onClose:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,w.jsxs)(j.Z,{sx:U,children:[(0,w.jsxs)(N.Z,{variant:"h6",component:"h2",color:"#65748B",borderBottom:"1px solid #d8dbe0",px:4,py:2,children:[i?"Update":"Add New","\xa0University"]}),(0,w.jsxs)(j.Z,{m:2,p:2,border:"1px solid #d8dbe0",borderRadius:"5px",children:[(0,w.jsxs)(C.ZP,{container:!0,spacing:2,children:[(0,w.jsx)(C.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,w.jsx)(N.Z,{className:"cursor-pointer",variant:"h6",children:"Name : "})}),(0,w.jsx)(C.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,w.jsx)(A.Z,{required:!0,label:"Name",type:"text",fullWidth:!0,value:R,onChange:function(e){return Y(e.target.value)},sx:{my:1}})})]}),(0,w.jsxs)(C.ZP,{container:!0,spacing:2,mt:2,children:[(0,w.jsx)(C.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,w.jsx)(N.Z,{className:"cursor-pointer",variant:"h6",children:"Country : "})}),(0,w.jsx)(C.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,w.jsxs)(I.Z,{fullWidth:!0,children:[(0,w.jsx)(_.Z,{children:"Country"}),(0,w.jsx)(E.Z,{value:q,label:"Country",onChange:function(e){var t=e.target.value;z(t)},children:m.map((function(e){return(0,w.jsx)(O.Z,{value:e.isoCode,children:e.name},e.isoCode)}))})]})})]}),(0,w.jsxs)(C.ZP,{container:!0,spacing:2,mt:2,children:[(0,w.jsx)(C.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,w.jsx)(N.Z,{className:"cursor-pointer",variant:"h6",children:"State : "})}),(0,w.jsx)(C.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,w.jsxs)(I.Z,{fullWidth:!0,children:[(0,w.jsx)(_.Z,{children:"State"}),(0,w.jsxs)(E.Z,{value:K,label:"State",onChange:function(e){var t=e.target.value;Q(t)},placeholder:"Please select country",children:[0===b.length&&(0,w.jsx)(O.Z,{disabled:!0,value:"",children:(0,w.jsx)("em",{children:"There are no States"})}),b.map((function(e){return(0,w.jsx)(O.Z,{value:e.isoCode,children:e.name},e.isoCode)}))]})]})})]}),(0,w.jsxs)(C.ZP,{container:!0,spacing:2,mt:2,children:[(0,w.jsx)(C.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,w.jsx)(N.Z,{className:"cursor-pointer",variant:"h6",children:"City : "})}),(0,w.jsx)(C.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,w.jsxs)(I.Z,{fullWidth:!0,children:[(0,w.jsx)(_.Z,{children:"City"}),(0,w.jsxs)(E.Z,{value:$,label:"city",onChange:function(e){var t=e.target.value;ee(t)},placeholder:"Please select state",children:[0===B.length&&(0,w.jsx)(O.Z,{disabled:!0,value:"",children:(0,w.jsx)("em",{children:"There are no Citys"})}),B.map((function(e){return(0,w.jsx)(O.Z,{value:e.name,children:e.name},"".concat(e.countryCode,"-").concat(e.stateCode,"-").concat(e.name))}))]})]})})]}),(0,w.jsxs)(j.Z,{mt:1,display:"flex",justifyContent:"end",children:[(0,w.jsx)(g.Z,{variant:"outlined",sx:{mx:1},onClick:h,children:"Cancel"}),(0,w.jsx)(g.Z,{variant:"contained",onClick:function(){if(""!==R&&""!==q){var e={name:R,country:q,state:K,city:$,id:i};o((0,y.y6)(e)),h()}else r.ZP.error("You should input the University name or select the country.")},children:i?"Update":"Add"})]})]})]})})})}var W=n(2517),B=n(66382),M=n(71235),D=n(54634),H=n(5448);function R(e){var t=e.open,n=e.setOpen,i=e.content,l=e.title,a=e.agree,s=function(){n(!1)};return(0,w.jsx)("div",{children:(0,w.jsxs)(W.Z,{open:t,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,w.jsx)(H.Z,{id:"alert-dialog-title",children:l}),(0,w.jsx)(M.Z,{children:(0,w.jsx)(D.Z,{id:"alert-dialog-description",children:i})}),(0,w.jsxs)(B.Z,{children:[(0,w.jsx)(g.Z,{onClick:s,children:"No"}),(0,w.jsx)(g.Z,{onClick:a,autoFocus:!0,children:"Yes"})]})]})})}var Y=[{id:"name",label:"Name",align:"left",width:"15%"},{id:"country",label:"Country",align:"left",width:"15%"},{id:"state",label:"State",align:"left",width:"10%"},{id:"city",label:"City",align:"left",width:"10%"},{id:"path",label:"Path",with:"30%"},{id:"action",label:"Action",align:"left",width:"20%"}];var F=function(){var e=(0,s.I0)(),t=(0,s.v9)((function(e){return e.universitys})),n=t.universitys,C=t.message,b=(0,a.useState)(0),S=(0,l.Z)(b,2),k=S[0],N=S[1],A=(0,a.useState)(10),I=(0,l.Z)(A,2),_=I[0],E=I[1],O=(0,a.useState)(!1),U=(0,l.Z)(O,2),W=U[0],B=U[1],M=(0,a.useState)(!1),D=(0,l.Z)(M,2),H=D[0],F=D[1],L=(0,a.useState)(""),q=(0,l.Z)(L,2),z=q[0],G=q[1],J=(0,a.useState)(""),K=(0,l.Z)(J,2),Q=K[0],V=K[1],X=(0,a.useState)([]),$=(0,l.Z)(X,2),ee=$[0],te=$[1];return(0,a.useEffect)((function(){e((0,y.Sb)())}),[e]),(0,a.useEffect)((function(){r.Am.success(C)}),[C]),(0,a.useEffect)((function(){te(n)}),[n]),(0,a.useEffect)((function(){var e=(0,i.Z)(n);Q&&(e=e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(Q.toLowerCase())}))),te(e)}),[Q,n]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"grid w-full grid-cols-1 gap-32 mt-32 xl:grid-cols-1",children:(0,w.jsx)(P,{handleAdd:function(){G(""),B(!0)},searchText:Q,setSearchText:V})}),(0,w.jsx)("div",{className:"grid w-full grid-cols-1 gap-32 mt-32 xl:grid-cols-1",children:(0,w.jsxs)(o.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,w.jsx)(u.Z,{sx:{width:"100%"},children:(0,w.jsx)(v.Z,{sx:{maxHeight:500},children:(0,w.jsxs)(x.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,w.jsx)(h.Z,{children:(0,w.jsx)(f.Z,{children:Y.map((function(e){return(0,w.jsx)(Z.Z,{align:e.align,children:e.label},e.id)}))})}),(0,w.jsx)(m.Z,{children:ee.slice(k*_,k*_+_).map((function(e,t){var n,i;return(0,w.jsxs)(f.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,w.jsx)(Z.Z,{align:"left",children:e.name},"name"),(0,w.jsx)(Z.Z,{align:"left",children:null===(n=c.Z.getCountryByCode(e.country))||void 0===n?void 0:n.name},"country"),(0,w.jsx)(Z.Z,{align:"left",children:null===(i=d.ZP.getStateByCodeAndCountry(e.state,e.country))||void 0===i?void 0:i.name},"state"),(0,w.jsx)(Z.Z,{align:"left",children:null===e||void 0===e?void 0:e.city},"city"),(0,w.jsx)(Z.Z,{align:"left",children:"".concat(null===e||void 0===e?void 0:e.folder_name,"-").concat(null===e||void 0===e?void 0:e._id,"/")},"path"),(0,w.jsx)(Z.Z,{align:"center",children:(0,w.jsxs)(j.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,w.jsx)(g.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return t=e._id,G(t),void B(!0);var t},children:"Edit"}),(0,w.jsx)(g.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return t=e._id,G(t),void F(!0);var t},children:"Delete"})]})},"action")]},t)}))})]})})}),(0,w.jsx)(p.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:ee.length,rowsPerPage:_,page:k,onPageChange:function(e,t){N(t)},onRowsPerPageChange:function(e){E(+e.target.value),N(0)}})]})}),W&&(0,w.jsx)(T,{isModal:W,setIsModal:B,id:z}),H&&(0,w.jsx)(R,{open:H,setOpen:F,title:"Confirm",content:"Do you want to delete the university from the database?",agree:function(){e((0,y.kD)(z)),F(!1)}})]})}}}]);