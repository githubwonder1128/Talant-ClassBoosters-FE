"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[135],{97135:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var i=t(93433),l=t(29439),a=t(47313),s=t(85554),r=t(36059),c=t(79966),d=t(203),o=t(80654),u=t(39874),x=t(44874),h=t(90495),f=t(59629),m=t(37982),Z=t(53805),j=t(16157),g=t(73477),p=t(27487),v=t(13280),y=t(29024),C=t(82937),b=t(22449),w=t(46417);var P=function(e){var n=e.handleAdd,t=e.searchText,i=e.setSearchText;return(0,w.jsx)("div",{className:"container flex w-full",children:(0,w.jsxs)(C.ZP,{container:!0,spacing:2,mt:5,mb:1,px:2,children:[(0,w.jsx)(C.ZP,{item:!0,xs:6,children:(0,w.jsx)(o.Z,{className:"flex items-center w-full h-40 p-4 px-16 py-4 rounded-full shadow-none border-1",children:(0,w.jsx)(b.Z,{placeholder:"Search University",className:"flex flex-1 px-8",disableUnderline:!0,fullWidth:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){i(e.target.value)}})})}),(0,w.jsx)(C.ZP,{item:!0,xs:6,sx:{textAlign:"right"},children:(0,w.jsx)(g.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return n()},children:"Add New"})})]})})},S=t(55383),N=t(68634),k=t(42669),A=t(36368),I=t(40686),_=t(29266),E=t(99234),O=t(81962),U={position:"absolute",top:"80px",left:"25%",width:"50%",maxHeight:"90%",overflowY:"auto",bgcolor:"background.paper",border:"1px solid #d8dbe0",boxShadow:24,borderRadius:"10px"};function T(e){var n=e.isModal,t=e.setIsModal,i=e.id,o=(0,s.I0)(),u=(0,s.v9)((function(e){return e.universitys})),x=u.universitys,h=function(){return t(!1)},f=(0,a.useState)(c.Z.getAllCountries()),m=(0,l.Z)(f,2),Z=m[0],p=(m[1],(0,a.useState)([])),v=(0,l.Z)(p,2),b=v[0],P=v[1],T=(0,a.useState)([]),W=(0,l.Z)(T,2),B=W[0],M=W[1],D=(0,a.useState)(""),H=(0,l.Z)(D,2),R=H[0],Y=H[1],q=(0,a.useState)(""),F=(0,l.Z)(q,2),L=F[0],z=F[1],G=(0,a.useState)("US"),J=(0,l.Z)(G,2),K=J[0],Q=J[1],V=(0,a.useState)(""),X=(0,l.Z)(V,2),$=X[0],ee=X[1],ne=(0,a.useState)(""),te=(0,l.Z)(ne,2),ie=te[0],le=te[1];return(0,a.useEffect)((function(){var e=d.ZP.getStatesOfCountry(K),n=S.Z.getCitiesOfCountry(K);P(e),M(n)}),[K]),(0,a.useEffect)((function(){var e=S.Z.getCitiesOfState(K,$);M(e)}),[$,K]),(0,a.useEffect)((function(){if(i){var e=x.filter((function(e){return e._id===i}))[0];z(e.acronym),Y(e.name),Q(e.country),ee(e.state),le(e.city)}}),[i,x]),(0,w.jsx)("div",{children:(0,w.jsx)(N.Z,{open:n,onClose:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,w.jsxs)(j.Z,{sx:U,children:[(0,w.jsxs)(k.Z,{variant:"h6",component:"h2",color:"#65748B",borderBottom:"1px solid #d8dbe0",px:4,py:2,children:[i?"Update":"Add New","\xa0University"]}),(0,w.jsxs)(j.Z,{m:2,p:2,border:"1px solid #d8dbe0",borderRadius:"5px",children:[(0,w.jsxs)(C.ZP,{container:!0,spacing:2,children:[(0,w.jsx)(C.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,w.jsx)(k.Z,{className:"cursor-pointer",variant:"h6",children:"Name : "})}),(0,w.jsx)(C.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,w.jsx)(A.Z,{required:!0,label:"Name",type:"text",fullWidth:!0,value:R,onChange:function(e){return Y(e.target.value)},sx:{my:1}})})]}),(0,w.jsxs)(C.ZP,{container:!0,spacing:2,children:[(0,w.jsx)(C.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,w.jsx)(k.Z,{className:"cursor-pointer",variant:"h6",children:"Acronym : "})}),(0,w.jsx)(C.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,w.jsx)(A.Z,{required:!0,label:"Acronym",type:"text",fullWidth:!0,value:L,onChange:function(e){return z(e.target.value)},sx:{my:1}})})]}),(0,w.jsxs)(C.ZP,{container:!0,spacing:2,mt:2,children:[(0,w.jsx)(C.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,w.jsx)(k.Z,{className:"cursor-pointer",variant:"h6",children:"Country : "})}),(0,w.jsx)(C.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,w.jsxs)(I.Z,{fullWidth:!0,children:[(0,w.jsx)(_.Z,{children:"Country"}),(0,w.jsx)(E.Z,{value:K,label:"Country",onChange:function(e){var n=e.target.value;Q(n)},children:Z.map((function(e){return(0,w.jsx)(O.Z,{value:e.isoCode,children:e.name},e.isoCode)}))})]})})]}),(0,w.jsxs)(C.ZP,{container:!0,spacing:2,mt:2,children:[(0,w.jsx)(C.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,w.jsx)(k.Z,{className:"cursor-pointer",variant:"h6",children:"State : "})}),(0,w.jsx)(C.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,w.jsxs)(I.Z,{fullWidth:!0,children:[(0,w.jsx)(_.Z,{children:"State"}),(0,w.jsxs)(E.Z,{value:$,label:"State",onChange:function(e){var n=e.target.value;ee(n)},placeholder:"Please select country",children:[0===b.length&&(0,w.jsx)(O.Z,{disabled:!0,value:"",children:(0,w.jsx)("em",{children:"There are no States"})}),b.map((function(e){return(0,w.jsx)(O.Z,{value:e.isoCode,children:e.name},e.isoCode)}))]})]})})]}),(0,w.jsxs)(C.ZP,{container:!0,spacing:2,mt:2,children:[(0,w.jsx)(C.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,w.jsx)(k.Z,{className:"cursor-pointer",variant:"h6",children:"City : "})}),(0,w.jsx)(C.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,w.jsxs)(I.Z,{fullWidth:!0,children:[(0,w.jsx)(_.Z,{children:"City"}),(0,w.jsxs)(E.Z,{value:ie,label:"city",onChange:function(e){var n=e.target.value;le(n)},placeholder:"Please select state",children:[0===B.length&&(0,w.jsx)(O.Z,{disabled:!0,value:"",children:(0,w.jsx)("em",{children:"There are no Citys"})}),B.map((function(e){return(0,w.jsx)(O.Z,{value:e.name,children:e.name},"".concat(e.countryCode,"-").concat(e.stateCode,"-").concat(e.name))}))]})]})})]}),(0,w.jsxs)(j.Z,{mt:1,display:"flex",justifyContent:"end",children:[(0,w.jsx)(g.Z,{variant:"outlined",sx:{mx:1},onClick:h,children:"Cancel"}),(0,w.jsx)(g.Z,{variant:"contained",onClick:function(){if(""!==R&&""!==K){var e={name:R,country:K,state:$,city:ie,id:i,acronym:L};o((0,y.y6)(e)),h()}else r.ZP.error("You should input the University name or select the country.")},children:i?"Update":"Add"})]})]})]})})})}var W=t(2517),B=t(66382),M=t(71235),D=t(54634),H=t(5448);function R(e){var n=e.open,t=e.setOpen,i=e.content,l=e.title,a=e.agree,s=function(){t(!1)};return(0,w.jsx)("div",{children:(0,w.jsxs)(W.Z,{open:n,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,w.jsx)(H.Z,{id:"alert-dialog-title",children:l}),(0,w.jsx)(M.Z,{children:(0,w.jsx)(D.Z,{id:"alert-dialog-description",children:i})}),(0,w.jsxs)(B.Z,{children:[(0,w.jsx)(g.Z,{onClick:s,children:"No"}),(0,w.jsx)(g.Z,{onClick:a,autoFocus:!0,children:"Yes"})]})]})})}var Y=[{id:"name",label:"Name",align:"left",width:"10%"},{id:"acronym",label:"Acronym",align:"left",width:"10%"},{id:"country",label:"Country",align:"left",width:"15%"},{id:"state",label:"State",align:"left",width:"10%"},{id:"city",label:"City",align:"left",width:"10%"},{id:"path",label:"Path",with:"25%"},{id:"action",label:"Action",align:"left",width:"20%"}];var q=function(){var e=(0,s.I0)(),n=(0,s.v9)((function(e){return e.universitys})),t=n.universitys,C=n.message,b=(0,a.useState)(0),S=(0,l.Z)(b,2),N=S[0],k=S[1],A=(0,a.useState)(10),I=(0,l.Z)(A,2),_=I[0],E=I[1],O=(0,a.useState)(!1),U=(0,l.Z)(O,2),W=U[0],B=U[1],M=(0,a.useState)(!1),D=(0,l.Z)(M,2),H=D[0],q=D[1],F=(0,a.useState)(""),L=(0,l.Z)(F,2),z=L[0],G=L[1],J=(0,a.useState)(""),K=(0,l.Z)(J,2),Q=K[0],V=K[1],X=(0,a.useState)([]),$=(0,l.Z)(X,2),ee=$[0],ne=$[1];return(0,a.useEffect)((function(){e((0,y.Sb)())}),[e]),(0,a.useEffect)((function(){r.Am.success(C)}),[C]),(0,a.useEffect)((function(){ne(t)}),[t]),(0,a.useEffect)((function(){var e=(0,i.Z)(t);Q&&(e=e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(Q.toLowerCase())}))),ne(e)}),[Q,t]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"grid w-full grid-cols-1 gap-32 mt-32 xl:grid-cols-1",children:(0,w.jsx)(P,{handleAdd:function(){G(""),B(!0)},searchText:Q,setSearchText:V})}),(0,w.jsx)("div",{className:"grid w-full grid-cols-1 gap-32 mt-32 xl:grid-cols-1",children:(0,w.jsxs)(o.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,w.jsx)(u.Z,{sx:{width:"100%"},children:(0,w.jsx)(v.Z,{sx:{maxHeight:500},children:(0,w.jsxs)(x.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,w.jsx)(h.Z,{children:(0,w.jsx)(f.Z,{children:Y.map((function(e){return(0,w.jsx)(m.Z,{align:e.align,children:e.label},e.id)}))})}),(0,w.jsx)(Z.Z,{children:ee.slice(N*_,N*_+_).map((function(e,n){var t,i;return(0,w.jsxs)(f.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,w.jsx)(m.Z,{align:"left",children:e.name},"name"),(0,w.jsx)(m.Z,{align:"left",children:e.acronym},"name"),(0,w.jsx)(m.Z,{align:"left",children:null===(t=c.Z.getCountryByCode(e.country))||void 0===t?void 0:t.name},"country"),(0,w.jsx)(m.Z,{align:"left",children:null===(i=d.ZP.getStateByCodeAndCountry(e.state,e.country))||void 0===i?void 0:i.name},"state"),(0,w.jsx)(m.Z,{align:"left",children:null===e||void 0===e?void 0:e.city},"city"),(0,w.jsx)(m.Z,{align:"left",children:"".concat(null===e||void 0===e?void 0:e.folder_name,"-").concat(null===e||void 0===e?void 0:e._id,"/")},"path"),(0,w.jsx)(m.Z,{align:"center",children:(0,w.jsxs)(j.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,w.jsx)(g.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return n=e._id,G(n),void B(!0);var n},children:"Edit"}),(0,w.jsx)(g.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return n=e._id,G(n),void q(!0);var n},children:"Delete"})]})},"action")]},n)}))})]})})}),(0,w.jsx)(p.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:ee.length,rowsPerPage:_,page:N,onPageChange:function(e,n){k(n)},onRowsPerPageChange:function(e){E(+e.target.value),k(0)}})]})}),W&&(0,w.jsx)(T,{isModal:W,setIsModal:B,id:z}),H&&(0,w.jsx)(R,{open:H,setOpen:q,title:"Confirm",content:"Do you want to delete the university from the database?",agree:function(){e((0,y.kD)(z)),q(!1)}})]})}}}]);