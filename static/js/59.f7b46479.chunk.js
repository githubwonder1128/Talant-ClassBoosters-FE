"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[59],{35059:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var i=t(93433),r=t(29439),l=t(47313),s=t(85554),a=t(36059),d=t(80654),c=t(39874),o=t(44874),u=t(90495),x=t(59629),h=t(37982),f=t(53805),p=t(16157),m=t(73477),v=t(20770),j=t(13280),Z=[{id:"university",label:"University",align:"left",width:"20%"},{id:"department",label:"Department",align:"left",width:"20%"},{id:"folder",label:"Path",align:"left",width:"40%"},{id:"action",label:"Action",align:"left",width:"20%"}],g=t(10126),y=t(29024),b=t(82937),w=t(40686),C=t(29266),P=t(99234),_=t(81962),S=t(22449),k=t(46417);var U=function(e){var n=e.handleAdd,t=e.searchText,i=e.setSearchText,r=e.setSearchUniversity,l=e.searchUniversity,a=(0,s.v9)((function(e){return e.universitys})).universitys;return(0,k.jsx)("div",{className:"container flex w-full gap-32 mt-32 xl:grid-cols-1",children:(0,k.jsxs)(b.ZP,{container:!0,spacing:2,mt:5,px:2,mb:1,children:[(0,k.jsx)(b.ZP,{item:!0,xs:6,children:(0,k.jsxs)(b.ZP,{container:!0,spacing:2,children:[(0,k.jsx)(b.ZP,{item:!0,xs:4,children:(0,k.jsxs)(w.Z,{fullWidth:!0,size:"small",children:[(0,k.jsx)(C.Z,{children:"University"}),(0,k.jsxs)(P.Z,{value:l,label:"University",onChange:function(e){return r(e.target.value)},fullWidth:!0,children:[(0,k.jsx)(_.Z,{value:0,children:"All"},0),a.map((function(e){return(0,k.jsx)(_.Z,{value:e._id,children:e.name},e._id)}))]})]})}),(0,k.jsx)(b.ZP,{item:!0,xs:4,children:(0,k.jsx)(d.Z,{className:"flex items-center w-full h-40 p-4 px-16 py-4 rounded-full shadow-none border-1",children:(0,k.jsx)(S.Z,{placeholder:"Search Department",className:"flex flex-1 px-8",fullWidth:!0,disableUnderline:!0,value:t,inputProps:{"aria-label":"Search"},onChange:function(e){i(e.target.value)}})})})]})}),(0,k.jsx)(b.ZP,{item:!0,xs:6,sx:{textAlign:"right"},children:(0,k.jsx)(m.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return n()},children:"Add New"})})]})})},N=t(68634),A=t(42669),I=t(36368),D={position:"absolute",top:"80px",left:"25%",width:"50%",maxHeight:"90%",overflowY:"auto",bgcolor:"background.paper",border:"1px solid #d8dbe0",boxShadow:24,borderRadius:"10px"};function E(e){var n=e.isModal,t=e.setIsModal,i=e.id,d=(0,s.I0)(),c=(0,s.v9)((function(e){return e.universitys})).universitys,o=(0,s.v9)((function(e){return e.departments})).departments,u=function(){return t(!1)},x=(0,l.useState)(""),h=(0,r.Z)(x,2),f=h[0],v=h[1],j=(0,l.useState)(""),Z=(0,r.Z)(j,2),y=Z[0],S=Z[1];return(0,l.useEffect)((function(){if(i){var e=o.filter((function(e){return e._id===i}))[0],n=e.university,t=e.department;v(n),S(t)}}),[i,o]),(0,k.jsx)("div",{children:(0,k.jsx)(N.Z,{open:n,onClose:u,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,k.jsxs)(p.Z,{sx:D,children:[(0,k.jsxs)(A.Z,{variant:"h6",component:"h2",color:"#65748B",borderBottom:"1px solid #d8dbe0",px:4,py:2,children:[i?"Update":"Add New","\xa0Department"]}),(0,k.jsxs)(p.Z,{m:2,p:2,border:"1px solid #d8dbe0",borderRadius:"5px",children:[(0,k.jsxs)(b.ZP,{container:!0,spacing:2,mt:2,children:[(0,k.jsx)(b.ZP,{item:!0,xs:3,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,k.jsx)(A.Z,{className:"cursor-pointer",variant:"h6",children:"University : "})}),(0,k.jsx)(b.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,k.jsxs)(w.Z,{fullWidth:!0,children:[(0,k.jsx)(C.Z,{children:"University"}),(0,k.jsx)(P.Z,{value:f,label:"University",onChange:function(e){v(e.target.value)},children:c.map((function(e){return(0,k.jsx)(_.Z,{value:e._id,children:e.name},e._id)}))})]})})]}),(0,k.jsxs)(b.ZP,{container:!0,spacing:2,children:[(0,k.jsx)(b.ZP,{item:!0,xs:3,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,k.jsx)(A.Z,{className:"cursor-pointer",variant:"h6",children:"Department : "})}),(0,k.jsx)(b.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,k.jsx)(I.Z,{required:!0,label:"Department",type:"text",fullWidth:!0,value:y,onChange:function(e){return S(e.target.value)},sx:{my:1}})})]}),(0,k.jsxs)(p.Z,{mt:1,display:"flex",justifyContent:"end",children:[(0,k.jsx)(m.Z,{variant:"outlined",sx:{mx:1},onClick:u,children:"Cancel"}),(0,k.jsx)(m.Z,{variant:"contained",onClick:function(){if(""!==y&&""!==f){var e={department:y,university:f,id:i};d((0,g.lY)(e)),u()}else a.ZP.error("You should input the Department name or select the University")},children:i?"Update":"Add"})]})]})]})})})}var W=t(2517),M=t(66382),O=t(71235),T=t(54634),Y=t(5448);function H(e){var n=e.open,t=e.setOpen,i=e.content,r=e.title,l=e.agree,s=function(){t(!1)};return(0,k.jsx)("div",{children:(0,k.jsxs)(W.Z,{open:n,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,k.jsx)(Y.Z,{id:"alert-dialog-title",children:r}),(0,k.jsx)(O.Z,{children:(0,k.jsx)(T.Z,{id:"alert-dialog-description",children:i})}),(0,k.jsxs)(M.Z,{children:[(0,k.jsx)(m.Z,{onClick:s,children:"No"}),(0,k.jsx)(m.Z,{onClick:l,autoFocus:!0,children:"Yes"})]})]})})}var R=function(){var e,n=(0,s.I0)(),t=(0,l.useState)(0),b=(0,r.Z)(t,2),w=b[0],C=b[1],P=(0,l.useState)(10),_=(0,r.Z)(P,2),S=_[0],N=_[1],A=(0,l.useState)(!1),I=(0,r.Z)(A,2),D=I[0],W=I[1],M=(0,l.useState)(!1),O=(0,r.Z)(M,2),T=O[0],Y=O[1],R=(0,l.useState)(""),B=(0,r.Z)(R,2),F=B[0],L=B[1],q=(0,s.v9)((function(e){return e.universitys})).universitys,z=(0,s.v9)((function(e){return e.departments})),G=z.departments,J=z.message,K=(0,l.useState)(""),Q=(0,r.Z)(K,2),V=Q[0],X=Q[1],$=(0,l.useState)(G),ee=(0,r.Z)($,2),ne=ee[0],te=ee[1],ie=(0,l.useState)(""),re=(0,r.Z)(ie,2),le=re[0],se=re[1];return(0,l.useEffect)((function(){n((0,y.Sb)()),n((0,g.Ps)())}),[n]),(0,l.useEffect)((function(){a.Am.success(J)}),[J]),(0,l.useEffect)((function(){te(G)}),[G]),(0,l.useEffect)((function(){var e=(0,i.Z)(G);V&&(e=e.filter((function(e){return-1!==e.department.toLowerCase().indexOf(V.toLowerCase())}))),le&&(e=e.filter((function(e){return e.university===le}))),te(e)}),[V,le,G]),console.log(G,q),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"grid w-full grid-cols-1 gap-32 mt-32 xl:grid-cols-1",children:(0,k.jsx)(U,{handleAdd:function(){L(""),W(!0)},searchText:V,setSearchText:X,searchUniversity:le,setSearchUniversity:se})}),(0,k.jsx)("div",{className:"grid w-full grid-cols-1 gap-32 mt-32 xl:grid-cols-1",children:(0,k.jsxs)(d.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,k.jsx)(c.Z,{children:(0,k.jsx)(j.Z,{sx:{maxHeight:500},children:(0,k.jsxs)(o.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,k.jsx)(u.Z,{children:(0,k.jsx)(x.Z,{children:Z.map((function(e){return(0,k.jsx)(h.Z,{align:e.align,style:{width:e.width},children:e.label},e.id)}))})}),(0,k.jsx)(f.Z,{children:null===(e=ne.slice(w*S,w*S+S))||void 0===e?void 0:e.map((function(e,n){var t,i;return(0,k.jsxs)(x.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,k.jsx)(h.Z,{align:"left",children:null===(t=q.filter((function(n){return n._id===e.university}))[0])||void 0===t?void 0:t.name},"university"),(0,k.jsx)(h.Z,{align:"left",children:e.department},"department"),(0,k.jsx)(h.Z,{align:"left",children:"".concat(null===(i=q.filter((function(n){return n._id===e.university}))[0])||void 0===i?void 0:i.folder_name,"-").concat(e.university,"/").concat(e.folder_name,"-").concat(e._id,"/")},"path"),(0,k.jsx)(h.Z,{align:"left",children:(0,k.jsxs)(p.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,k.jsx)(m.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return n=e._id,L(n),void W(!0);var n},children:"Edit"}),(0,k.jsx)(m.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return n=e._id,L(n),void Y(!0);var n},children:"Delete"})]})},"action")]},"".concat(n,"-department"))}))})]})})}),(0,k.jsx)(v.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:G.length,rowsPerPage:S,page:w,onPageChange:function(e,n){C(n)},onRowsPerPageChange:function(e){N(+e.target.value),C(0)}})]})}),D&&(0,k.jsx)(E,{isModal:D,setIsModal:W,id:F}),T&&(0,k.jsx)(H,{open:T,setOpen:Y,title:"Confirm",content:"Do you want to delete the department from the database?",agree:function(){n((0,g.If)(F)),Y(!1)}})]})}}}]);