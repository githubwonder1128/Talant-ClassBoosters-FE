"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[59],{35059:function(e,n,i){i.r(n),i.d(n,{default:function(){return R}});var t=i(93433),r=i(29439),s=i(47313),l=i(85554),a=i(36059),d=i(80654),c=i(39874),o=i(44874),u=i(90495),x=i(59629),h=i(37982),f=i(53805),p=i(16157),m=i(73477),v=i(27487),j=i(13280),Z=[{id:"university",label:"University",align:"left",width:"20%"},{id:"department",label:"Department",align:"left",width:"20%"},{id:"folder",label:"Path",align:"left",width:"40%"},{id:"action",label:"Action",align:"left",width:"20%"}],g=i(10126),y=i(29024),b=i(82937),w=i(40686),C=i(29266),P=i(99234),_=i(81962),S=i(22449),k=i(46417);var U=function(e){var n=e.handleAdd,i=e.searchText,t=e.setSearchText,r=e.setSearchUniversity,s=e.searchUniversity,a=(0,l.v9)((function(e){return e.universitys})).universitys;return(0,k.jsx)("div",{className:"container flex w-full gap-32 mt-32 xl:grid-cols-1",children:(0,k.jsxs)(b.ZP,{container:!0,spacing:2,mt:5,px:2,mb:1,children:[(0,k.jsx)(b.ZP,{item:!0,xs:6,children:(0,k.jsxs)(b.ZP,{container:!0,spacing:2,children:[(0,k.jsx)(b.ZP,{item:!0,xs:4,children:(0,k.jsxs)(w.Z,{fullWidth:!0,size:"small",children:[(0,k.jsx)(C.Z,{children:"University"}),(0,k.jsxs)(P.Z,{value:s,label:"University",onChange:function(e){return r(e.target.value)},fullWidth:!0,children:[(0,k.jsx)(_.Z,{value:0,children:"All"},0),a.map((function(e){return(0,k.jsx)(_.Z,{value:e._id,children:e.name},e._id)}))]})]})}),(0,k.jsx)(b.ZP,{item:!0,xs:4,children:(0,k.jsx)(d.Z,{className:"flex items-center w-full h-40 p-4 px-16 py-4 rounded-full shadow-none border-1",children:(0,k.jsx)(S.Z,{placeholder:"Search Department",className:"flex flex-1 px-8",fullWidth:!0,disableUnderline:!0,value:i,inputProps:{"aria-label":"Search"},onChange:function(e){t(e.target.value)}})})})]})}),(0,k.jsx)(b.ZP,{item:!0,xs:6,sx:{textAlign:"right"},children:(0,k.jsx)(m.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return n()},children:"Add New"})})]})})},N=i(68634),A=i(42669),I=i(36368),D={position:"absolute",top:"80px",left:"25%",width:"50%",maxHeight:"90%",overflowY:"auto",bgcolor:"background.paper",border:"1px solid #d8dbe0",boxShadow:24,borderRadius:"10px"};function E(e){var n=e.isModal,i=e.setIsModal,t=e.id,d=(0,l.I0)(),c=(0,l.v9)((function(e){return e.universitys})).universitys,o=(0,l.v9)((function(e){return e.departments})).departments,u=function(){return i(!1)},x=(0,s.useState)(""),h=(0,r.Z)(x,2),f=h[0],v=h[1],j=(0,s.useState)(""),Z=(0,r.Z)(j,2),y=Z[0],S=Z[1];return(0,s.useEffect)((function(){if(t){var e=o.filter((function(e){return e._id===t}))[0],n=e.university._id,i=e.department;v(n),S(i)}}),[t,o]),(0,k.jsx)("div",{children:(0,k.jsx)(N.Z,{open:n,onClose:u,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,k.jsxs)(p.Z,{sx:D,children:[(0,k.jsxs)(A.Z,{variant:"h6",component:"h2",color:"#65748B",borderBottom:"1px solid #d8dbe0",px:4,py:2,children:[t?"Update":"Add New","\xa0Department"]}),(0,k.jsxs)(p.Z,{m:2,p:2,border:"1px solid #d8dbe0",borderRadius:"5px",children:[(0,k.jsxs)(b.ZP,{container:!0,spacing:2,mt:2,children:[(0,k.jsx)(b.ZP,{item:!0,xs:3,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,k.jsx)(A.Z,{className:"cursor-pointer",variant:"h6",children:"University : "})}),(0,k.jsx)(b.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,k.jsxs)(w.Z,{fullWidth:!0,children:[(0,k.jsx)(C.Z,{children:"University"}),(0,k.jsx)(P.Z,{value:f,label:"University",onChange:function(e){v(e.target.value)},children:c.map((function(e){return(0,k.jsx)(_.Z,{value:e._id,children:e.name},e._id)}))})]})})]}),(0,k.jsxs)(b.ZP,{container:!0,spacing:2,children:[(0,k.jsx)(b.ZP,{item:!0,xs:3,sx:{display:"flex",alignItems:"center",textAlign:"right",justifyContent:"flex-end"},children:(0,k.jsx)(A.Z,{className:"cursor-pointer",variant:"h6",children:"Department : "})}),(0,k.jsx)(b.ZP,{item:!0,xs:8,sx:{display:"flex",alignItems:"left"},children:(0,k.jsx)(I.Z,{required:!0,label:"Department",type:"text",fullWidth:!0,value:y,onChange:function(e){return S(e.target.value)},sx:{my:1}})})]}),(0,k.jsxs)(p.Z,{mt:1,display:"flex",justifyContent:"end",children:[(0,k.jsx)(m.Z,{variant:"outlined",sx:{mx:1},onClick:u,children:"Cancel"}),(0,k.jsx)(m.Z,{variant:"contained",onClick:function(){if(""!==y&&""!==f){var e={department:y,university:f,id:t};d((0,g.lY)(e)),u()}else a.ZP.error("You should input the Department name or select the University")},children:t?"Update":"Add"})]})]})]})})})}var W=i(2517),M=i(66382),O=i(71235),T=i(54634),Y=i(5448);function H(e){var n=e.open,i=e.setOpen,t=e.content,r=e.title,s=e.agree,l=function(){i(!1)};return(0,k.jsx)("div",{children:(0,k.jsxs)(W.Z,{open:n,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,k.jsx)(Y.Z,{id:"alert-dialog-title",children:r}),(0,k.jsx)(O.Z,{children:(0,k.jsx)(T.Z,{id:"alert-dialog-description",children:t})}),(0,k.jsxs)(M.Z,{children:[(0,k.jsx)(m.Z,{onClick:l,children:"No"}),(0,k.jsx)(m.Z,{onClick:s,autoFocus:!0,children:"Yes"})]})]})})}var R=function(){var e,n=(0,l.I0)(),i=(0,s.useState)(0),b=(0,r.Z)(i,2),w=b[0],C=b[1],P=(0,s.useState)(10),_=(0,r.Z)(P,2),S=_[0],N=_[1],A=(0,s.useState)(!1),I=(0,r.Z)(A,2),D=I[0],W=I[1],M=(0,s.useState)(!1),O=(0,r.Z)(M,2),T=O[0],Y=O[1],R=(0,s.useState)(""),B=(0,r.Z)(R,2),F=B[0],L=B[1],q=((0,l.v9)((function(e){return e.universitys})).universitys,(0,l.v9)((function(e){return e.departments}))),z=q.departments,G=q.message,J=(0,s.useState)(""),K=(0,r.Z)(J,2),Q=K[0],V=K[1],X=(0,s.useState)(z),$=(0,r.Z)(X,2),ee=$[0],ne=$[1],ie=(0,s.useState)(""),te=(0,r.Z)(ie,2),re=te[0],se=te[1];return(0,s.useEffect)((function(){n((0,y.Sb)()),n((0,g.Ps)())}),[n]),(0,s.useEffect)((function(){a.Am.success(G)}),[G]),(0,s.useEffect)((function(){ne(z)}),[z]),(0,s.useEffect)((function(){var e=(0,t.Z)(z);Q&&(e=e.filter((function(e){return-1!==e.department.toLowerCase().indexOf(Q.toLowerCase())}))),re&&(e=e.filter((function(e){return e.university._id===re}))),ne(e)}),[Q,re,z]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"grid w-full grid-cols-1 gap-32 mt-32 xl:grid-cols-1",children:(0,k.jsx)(U,{handleAdd:function(){L(""),W(!0)},searchText:Q,setSearchText:V,searchUniversity:re,setSearchUniversity:se})}),(0,k.jsx)("div",{className:"grid w-full grid-cols-1 gap-32 mt-32 xl:grid-cols-1",children:(0,k.jsxs)(d.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,k.jsx)(c.Z,{children:(0,k.jsx)(j.Z,{sx:{maxHeight:500},children:(0,k.jsxs)(o.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,k.jsx)(u.Z,{children:(0,k.jsx)(x.Z,{children:Z.map((function(e){return(0,k.jsx)(h.Z,{align:e.align,style:{width:e.width},children:e.label},e.id)}))})}),(0,k.jsx)(f.Z,{children:null===(e=ee.slice(w*S,w*S+S))||void 0===e?void 0:e.map((function(e,n){var i,t;return(0,k.jsxs)(x.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,k.jsx)(h.Z,{align:"left",children:null===(i=e.university)||void 0===i?void 0:i.name},"university"),(0,k.jsx)(h.Z,{align:"left",children:e.department},"department"),(0,k.jsx)(h.Z,{align:"left",children:"".concat(null===(t=e.university)||void 0===t?void 0:t.folder_name,"-").concat(e.university,"/").concat(e.folder_name,"-").concat(e._id,"/")},"path"),(0,k.jsx)(h.Z,{align:"left",children:(0,k.jsxs)(p.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,k.jsx)(m.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return n=e._id,L(n),void W(!0);var n},children:"Edit"}),(0,k.jsx)(m.Z,{className:"whitespace-nowrap",variant:"contained",color:"secondary",onClick:function(){return n=e._id,L(n),void Y(!0);var n},children:"Delete"})]})},"action")]},"".concat(n,"-department"))}))})]})})}),(0,k.jsx)(v.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:z.length,rowsPerPage:S,page:w,onPageChange:function(e,n){C(n)},onRowsPerPageChange:function(e){N(+e.target.value),C(0)}})]})}),D&&(0,k.jsx)(E,{isModal:D,setIsModal:W,id:F}),T&&(0,k.jsx)(H,{open:T,setOpen:Y,title:"Confirm",content:"Do you want to delete the department from the database?",agree:function(){n((0,g.If)(F)),Y(!1)}})]})}}}]);